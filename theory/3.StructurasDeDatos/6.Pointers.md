# Pointers

Los pointers usan el valor en memoria, cuando pasamos un valor a una funcion este toma una copia de el, no obtiene la misma referencia en memoria O cuando hacemos que un valor sea igal a otro.


```go
func main(){
    x:=10
    p:=&x

    fmt.Println(p) // esto es la direccion en memoria -> 0xc000.

    // * es una resdeferencia para obtener el valor.
    fmt.Println(*p) // esto es 10 el valor
}
```



``` go
func main(){
    x := 20
    p :=&x
    // Aqui estamos modificando el valor que tiene guardada la memoria.
    *p = 50

    // esto es lo mismo y p tambien cambia
    x :=50
    fmt.Println(x) // salida 50
}

```


## Â¿Cuando usamos Pointer?


1. Cuando queremos que algun parametro pasado a una funcion modifica el valor que fue pasado por parametro.

``` go

func incrementarPorValor(x int){
    x = x+1
    fmt.Println("Dentro de la funcion:",x)
}

// tambien el *int indica que estamos pasando un pointer
func IncrementarPorPointer(x *int){

    // el valor desrefenciando es decir el valor original ahora va a valer lo que hay en el valor referenciado + 1
    *x = *x + 1
}

func main(){
    num:=10

    incrementarPorValor(num)
    fmt.PrintLn(num) // num sigue siendo 10

    IncrementarPorPointer(&num)
    fmt.PrintLn(num) // num es 11

}

```


2. Con elementos muy grandes, ya que no es efeciente copiar elementos tan grandes cada ves que los pasemos


``` go
type LargeStruct struct{
    Data[1000]int
    Name string,
    ID int
}

func processWithOutPointer(ls LargeStruct){
        fmt.PrintLn(ls) // Copia todo el objeto
}


func processWithPointer(ls *LargeStruct){
        fmt.PrintLn(*ls) // Referencia la objeto original
}

func main(){
    ls:= LargeStruct{
        Name: "mi estructura grande",
        ID: 1,
    }

    processWithOutPointer(ls)
    // pasamos pointer
    processWithOutPointer(&ls)


}

```

## Todos los valores son copias o referencias?

Si bien son utiles para estos 2 casos, es cierto que hay ciertas estructuras que se pasa la referencia y no lo copia.


- Array y structs : Se copian completamente
- Slices,maps,channels : Se copia la referencia

Ahora aqui pueden existir 2 escenarios que si quieras pasar la copia o no.

1. Si no quieres que te modifiquen un slices,map o channel utiliza el metodo copy

2. Si quieres modificar array o structs utiliza punteros.
